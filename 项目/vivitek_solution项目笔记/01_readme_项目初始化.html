<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>说明 | 工作笔记</title>
    <meta name="description" content="Hendry的博客">
    <link rel="icon" href="/img/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.eecf6a6a.css" as="style"><link rel="preload" href="/assets/js/app.f8bee57c.js" as="script"><link rel="preload" href="/assets/js/48.4da217ee.js" as="script"><link rel="prefetch" href="/assets/js/10.837bbfd0.js"><link rel="prefetch" href="/assets/js/11.bbd08110.js"><link rel="prefetch" href="/assets/js/12.eb514b46.js"><link rel="prefetch" href="/assets/js/13.e2503408.js"><link rel="prefetch" href="/assets/js/14.d97c0ac2.js"><link rel="prefetch" href="/assets/js/15.baf7986f.js"><link rel="prefetch" href="/assets/js/16.2b12bf6f.js"><link rel="prefetch" href="/assets/js/17.f7e545ac.js"><link rel="prefetch" href="/assets/js/18.70d9230d.js"><link rel="prefetch" href="/assets/js/19.0a61e7ba.js"><link rel="prefetch" href="/assets/js/2.d139c70a.js"><link rel="prefetch" href="/assets/js/20.87141f48.js"><link rel="prefetch" href="/assets/js/21.536e6d3b.js"><link rel="prefetch" href="/assets/js/22.fa3e648a.js"><link rel="prefetch" href="/assets/js/23.f6c367b9.js"><link rel="prefetch" href="/assets/js/24.a8f770f5.js"><link rel="prefetch" href="/assets/js/25.3bb8bbfc.js"><link rel="prefetch" href="/assets/js/26.1c16cfb8.js"><link rel="prefetch" href="/assets/js/27.075df559.js"><link rel="prefetch" href="/assets/js/28.90c1e366.js"><link rel="prefetch" href="/assets/js/29.3145e78e.js"><link rel="prefetch" href="/assets/js/3.de89ea98.js"><link rel="prefetch" href="/assets/js/30.9832e5bd.js"><link rel="prefetch" href="/assets/js/31.2f9a7c5b.js"><link rel="prefetch" href="/assets/js/32.df9181b5.js"><link rel="prefetch" href="/assets/js/33.ec53f96d.js"><link rel="prefetch" href="/assets/js/34.398a7128.js"><link rel="prefetch" href="/assets/js/35.bb1c5a48.js"><link rel="prefetch" href="/assets/js/36.935a5449.js"><link rel="prefetch" href="/assets/js/37.459fef35.js"><link rel="prefetch" href="/assets/js/38.f51023c1.js"><link rel="prefetch" href="/assets/js/39.ed9f7023.js"><link rel="prefetch" href="/assets/js/4.a889cc83.js"><link rel="prefetch" href="/assets/js/40.7959ecc5.js"><link rel="prefetch" href="/assets/js/41.2f350c5b.js"><link rel="prefetch" href="/assets/js/42.3a09f5a5.js"><link rel="prefetch" href="/assets/js/43.b22e3395.js"><link rel="prefetch" href="/assets/js/44.ea91f873.js"><link rel="prefetch" href="/assets/js/45.29363c9f.js"><link rel="prefetch" href="/assets/js/46.45848afe.js"><link rel="prefetch" href="/assets/js/47.309f8db5.js"><link rel="prefetch" href="/assets/js/49.713e67fd.js"><link rel="prefetch" href="/assets/js/5.7183a5fb.js"><link rel="prefetch" href="/assets/js/50.d90574c6.js"><link rel="prefetch" href="/assets/js/51.5190cc6c.js"><link rel="prefetch" href="/assets/js/52.25c37497.js"><link rel="prefetch" href="/assets/js/53.3fea90a3.js"><link rel="prefetch" href="/assets/js/54.d23ad054.js"><link rel="prefetch" href="/assets/js/55.d8ba3a31.js"><link rel="prefetch" href="/assets/js/56.bc578093.js"><link rel="prefetch" href="/assets/js/57.cb8c611e.js"><link rel="prefetch" href="/assets/js/58.4a6efece.js"><link rel="prefetch" href="/assets/js/59.397f12f2.js"><link rel="prefetch" href="/assets/js/6.6621a9ba.js"><link rel="prefetch" href="/assets/js/60.a209bb60.js"><link rel="prefetch" href="/assets/js/61.0a1b1f3b.js"><link rel="prefetch" href="/assets/js/62.a79409e9.js"><link rel="prefetch" href="/assets/js/63.f99fda12.js"><link rel="prefetch" href="/assets/js/64.59a96a9c.js"><link rel="prefetch" href="/assets/js/65.ab4be186.js"><link rel="prefetch" href="/assets/js/66.df4455cd.js"><link rel="prefetch" href="/assets/js/7.a024304b.js"><link rel="prefetch" href="/assets/js/8.be16c405.js"><link rel="prefetch" href="/assets/js/9.37e77487.js">
    <link rel="stylesheet" href="/assets/css/0.styles.eecf6a6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">工作笔记</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/menu.html" class="nav-link">首页</a></div><div class="nav-item"><a href="/Android/" class="nav-link">Android</a></div><div class="nav-item"><a href="/直播/" class="nav-link">直播</a></div><div class="nav-item"><a href="/前端/" class="nav-link">前端</a></div><div class="nav-item"><a href="/公众号/" class="nav-link">公众号</a></div><div class="nav-item"><a href="/项目/" class="nav-link">项目</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">高级</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">冒泡</a></li><li class="dropdown-subitem"><a href="/language/japanese.html" class="nav-link">快速</a></li></ul></li><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">工厂</a></li><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">单例</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/menu.html" class="nav-link">首页</a></div><div class="nav-item"><a href="/Android/" class="nav-link">Android</a></div><div class="nav-item"><a href="/直播/" class="nav-link">直播</a></div><div class="nav-item"><a href="/前端/" class="nav-link">前端</a></div><div class="nav-item"><a href="/公众号/" class="nav-link">公众号</a></div><div class="nav-item"><a href="/项目/" class="nav-link">项目</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">高级</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">冒泡</a></li><li class="dropdown-subitem"><a href="/language/japanese.html" class="nav-link">快速</a></li></ul></li><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">工厂</a></li><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">单例</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>说明</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#移动端ui框架选择" class="sidebar-link">移动端UI框架选择</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#mint-ui-饿了么" class="sidebar-link">mint-ui (饿了么)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#vant-有赞" class="sidebar-link">vant (有赞)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#cube-ui-滴滴" class="sidebar-link">cube-ui (滴滴)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#vux" class="sidebar-link">vux</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#mpvue" class="sidebar-link">mpvue</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#hbuilder-打包" class="sidebar-link">hbuilder 打包</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#目录结构" class="sidebar-link">目录结构</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#页面" class="sidebar-link">页面</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#icon" class="sidebar-link">icon</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#api方式的toast" class="sidebar-link">API方式的toast</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#search-框" class="sidebar-link">Search 框</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#swiper-幻灯片" class="sidebar-link">Swiper 幻灯片</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vivitek_solution%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/01_readme_%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#css-图片问题" class="sidebar-link">css 图片问题</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="说明"><a href="#说明" aria-hidden="true" class="header-anchor">#</a> 说明</h1> <p>vivitek 资讯APP</p> <p>前端技术栈: webapp首选vue
后端接口: mongodb + express 或 mysql + php 提供restful接口<br>
后台站点: vue 或 nuxt
打包应用: hbuilder , 暂时只针对android打包apk</p> <h2 id="移动端ui框架选择"><a href="#移动端ui框架选择" aria-hidden="true" class="header-anchor">#</a> 移动端UI框架选择</h2> <p>最终选择用<code>vux</code>   应该是目前开发者用的最多的
组件也很全, 文档也不错, 提供脚手架可以快速开始</p> <h2 id="mint-ui-饿了么"><a href="#mint-ui-饿了么" aria-hidden="true" class="header-anchor">#</a> mint-ui (饿了么)</h2> <p><code>http://mint-ui.github.io/docs</code>
框架出来的早,
界面设计美观也略差 (用tabbar和tab进行比较)
但组件比较全
组件的文档还是全面, 只是没有其他文档, 比如项目优化, 自定义等</p> <p>整体来说, mint-ui 可能就是因为出现太早, 界面没有后来的框架那么美观
更没有后续的特色, 对比如小程序的支持, ssr的支持 , 文档也只是针对基本组件的使用
所以这个又不美观, 又不支持新技术的只能参考看看</p> <h2 id="vant-有赞"><a href="#vant-有赞" aria-hidden="true" class="header-anchor">#</a> vant (有赞)</h2> <p><code>https://www.youzanyun.com/zanui/vant#/zh-CN/intro</code> <code>https://tech.youzan.com/vant-vue-component/</code></p> <p>美观比mint略好
文档也比较全
提供vue-cli的模板
特色是有很多现成的商城需要用到的组件
<code>Sku 商品购买组件</code><br> <code>GoodsAction</code> <code>AddressList 地址列表</code> 这些对于网店商城是非常实用的</p> <p>支持<code>ssr</code>
有小程序组件库</p> <p>如果开发商城类可以用vant</p> <h2 id="cube-ui-滴滴"><a href="#cube-ui-滴滴" aria-hidden="true" class="header-anchor">#</a> cube-ui (滴滴)</h2> <p><code>https://didi.github.io/cube-ui/#/zh-CN/docs/introduction</code></p> <ul><li>提供vue-cli脚手架模板</li> <li>方便在已有项目中使用</li> <li>有一些新概念, 比如后编译减少体积</li></ul> <p>缺点是组件太少了 , 一些常用组件都不提供
scroll类的组件很漂亮
弹层可以用api来调用, 避免对其他组件影响
里面的style <code>reset.css</code> <code>base.css</code> 都是值得用的</p> <h2 id="vux"><a href="#vux" aria-hidden="true" class="header-anchor">#</a> vux</h2> <p>Vux 基于Vue和WeUI的组件库
https://vux.li/
vux基于weui, 所以也可以参考下weui文档
<code>https://github.com/Tencent/weui/wiki</code></p> <p>基本上该有的都有, 而且比较漂亮,面向微信 , 且使用者很多</p> <p>注意看文档, vux的文档都有示例代码的</p> <h2 id="mpvue"><a href="#mpvue" aria-hidden="true" class="header-anchor">#</a> mpvue</h2> <p>观望...  它的目标是vue方式来开发小程序</p> <p>Vue.js 开发小程序的前端框架
mpvue
http://mpvue.com/</p> <h1 id="项目参考例子"><a href="#项目参考例子" aria-hidden="true" class="header-anchor">#</a> 项目参考例子</h1> <p>主要需要对vux的使用的例子</p> <ol><li><p>vux_hendry ,<code>C:\WORKSPACE\javascript_nodejs_typescript_workspace\Vue\vux_hendry</code>
基础的vux组件使用, 测试可以都放在这个项目中进行测试
而且, vux 结合hbuilder打包可以在这里测试</p></li> <li><p>pay-school-master ,  <code>vue_demos\vux_pay-school-master\pay-school-master\src\route</code>
这个例子在hbuilder打包后基本能跑起来, 但浏览器运行有几个页面总是跳转到一个无法返回的页面
路由结构和组件和样式都是值得参考的</p></li> <li><p>vue-music, <code>vue_demos\vux-demo-full\vue-music</code>
这个例子跑不起来, 因为服务端api已经停了, 而且没有提供本地模拟数据的方法
虽然跑不起来但是这个例子的代码结构不错, 特别是api的代码结构
在解决跨域的时候, 最后上线时需要把api地址改成真实地址, 而不是测试环境的跨域代理, 于是需要对api地址进行合理组织, 在打包上线的时候可以快速更改api真实线上地址</p></li></ol> <h1 id="前端项目初始化"><a href="#前端项目初始化" aria-hidden="true" class="header-anchor">#</a> 前端项目初始化</h1> <p><code>cd vivitek_solution</code> <code>vue init airyland/vux2</code></p> <p>注意使用 国内淘宝仓库源, 否则可能vux-loader 不正常, vux内部方法不能用</p> <p><code>npm --registry=https://registry.npm.taobao.org install</code></p> <p>把less 和 stylus 支持都安装, 毕竟不影响最终打包结果</p> <p><code>npm install --save stylus stylus-loader less less-loader</code></p> <p>项目基本结构说明:</p> <p>airyland/vux2模板 主要是在vue基础模板上加入了下面一些支持和特色
比如 Fastclick  , less , duplicate-style 等</p> <ul><li>main.js 中引入了Fastclick <code>FastClick.attach(document.body)</code></li> <li>入口组件App.vue中 默认引入了reset.css 进行了一些浏览器统一.</li></ul> <h2 id="hbuilder-打包"><a href="#hbuilder-打包" aria-hidden="true" class="header-anchor">#</a> hbuilder 打包</h2> <p>history 模式不支持
后退按钮的问题
welcome广告形式的页面 也可以由hbuilder 完成</p> <h2 id="目录结构"><a href="#目录结构" aria-hidden="true" class="header-anchor">#</a> 目录结构</h2> <p>在vux脚手架结构基础上</p> <ul><li><code>src/pages</code><br>
添加该目录,  这个目录作为<code>页面view</code>目录, 它和<code>components</code>目录进行分离
这个是比较常用的做法,  <code>components</code> 放<code>局部组件</code>,   pages或views 放<code>页面组件</code>
且<code>router</code> 只和<code>pages</code>目录下的这些<code>页面</code>打交道
这些<code>页面</code>组件再去和<code>components</code>打交道
于是router的跳转就是页面的跳转,
而局部的刷新, 实际上就是page里面的组件的刷新,  vue本身更新数据就可以更新组件, 并不需要用router来实现
所以, router我们主要用来对整个页面的刷新,  局部的刷新vue本身就可以实现局部刷新</li></ul> <p>而且关于pages目录, 下面我们还可以进行多级目录划分, 比如 多个页面属于同个种类, 那么这些页面应该放在同个目录下</p> <ul><li><code>src/api</code>
这个目录就是为了把api相关的代码独立出来
且api相关的资源地址也单独存放</li></ul> <h2 id="页面"><a href="#页面" aria-hidden="true" class="header-anchor">#</a> 页面</h2> <ol><li><p>HOME 页面</p></li> <li><p>产品介绍页面: 产品分类 + 产品概要
-- 产品详情, 子页面</p></li> <li><p>成功案例页面: 分类案例 + 案例概要
-- 案例详情页面</p></li> <li><p>售后服务页面
-- 把所有的售后网点列表
-- 收费标准列表出来</p></li> <li><p>关于丽讯页面
-- 公司介绍
-- 台达集团介绍</p></li></ol> <h2 id="icon"><a href="#icon" aria-hidden="true" class="header-anchor">#</a> icon</h2> <p>vux 自身带的icon 比较少,  所以需要用其他的icon</p> <p>我们引入两个图标库 fontawesome 和 material-icons</p> <p>国内图标库cdn   <code>http://www.bootcdn.cn/</code></p> <p>比如我们下面的国内地址都是 从这个站点引入的</p> <ol><li><p><code>material-icon</code></p> <p><code>https://material.io/icons</code></p> <p>引入css
从google官方引入
<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic&quot;&gt;</code></p> <p>国内是无法访问google的, 所以或者从cdn引入
<code>&lt;link href=&quot;http://cdn.bootcss.com/material-design-icons/3.0.1/iconfont/material-icons.min.css&quot; rel=&quot;stylesheet&quot;&gt;</code></p></li> <li><p><code>fontawesome</code>图标库</p> <p><code>https://fontawesome.com/</code></p> <p>引入css
官方引入</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://use.fontawesome.com/releases/v5.0.11/css/all.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sha384-p2jx59pefphTFIpeqCcISO9MdVfIm4pNnsL08A6v5vaQc4owkQqxMV8kg4Yvhaw/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>anonymous<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>国内cdn引入</p> <p><code>http://www.bootcdn.cn/font-awesome/</code></p> <p><code>&lt;link href=&quot;https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css&quot; rel=&quot;stylesheet&quot;&gt;</code>
但发现这个国内cdn引入后, icon显示不了,   必须引入官方地址才行</p> <p>另外fontawesome 提供svg下载, 以后可以优化为svg</p></li></ol> <h1 id="vux-组件的使用"><a href="#vux-组件的使用" aria-hidden="true" class="header-anchor">#</a> vux 组件的使用</h1> <h2 id="api方式的toast"><a href="#api方式的toast" aria-hidden="true" class="header-anchor">#</a> API方式的toast</h2> <ol><li>main.js 中引入组件</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>ToastPlugin<span class="token punctuation">,</span> AlertPlugin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vux'</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ToastPlugin<span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>AlertPlugin<span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>api 方式调用</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>        <span class="token keyword">this</span><span class="token punctuation">.</span>$vux<span class="token punctuation">.</span>toast<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          type<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
          position<span class="token punctuation">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span>
          text<span class="token punctuation">:</span> <span class="token string">'on submit'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="search-框"><a href="#search-框" aria-hidden="true" class="header-anchor">#</a> Search 框</h2> <p>移动端Search组件功能 : 当点击Search 框输入内容后, 会弹出<code>搜索结果</code>, 然后点击<code>搜索结果</code>进行其他操作</p> <ol><li>Search 组件定义绑定results <code>:results=&quot;results&quot;</code>  , 相当于是Search组件的state变量 ,  当用户输入内容, 我们要搜索并赋值给results 变量, 从而进行显示</li> <li>@on-change=&quot;onSearchChange&quot;   , 在该方法中进行实际的搜索, 返回值赋值给results , 于是Search组件会根据results显示结果UI界面</li> <li>搜索结果UI界面是Search框下一个下拉列表 ,下拉列表内容就是results, 用户点击列表项触发 @result-click=&quot;resultClick&quot;</li></ol> <p>可见比较重要的几个参数,  <code>results 变量绑定</code> , <code>@on-change 事件绑定</code> , <code>@result-click 事件绑定</code></p> <h2 id="swiper-幻灯片"><a href="#swiper-幻灯片" aria-hidden="true" class="header-anchor">#</a> Swiper 幻灯片</h2> <p>幻灯片的跳转是用数据中的url指定, 点击则跳转到该url, 这个是swiper组件提供, 所以基本上swiper我们不需要处理事件</p> <p>一般只需要指定数据list , 设置url即可</p> <p>如果要指定为空, 不跳转 <code>url: 'javascript:',</code></p> <p>##　关于路由参数
router 定义url参数  <code>props: true</code>
在组件中用props 接收url参数</p> <p>否则就需要自己在组件初始化的时候去接收路由参数 <code>this.$route.params</code> , 这样是很麻烦的</p> <p>而把路由参数作为组件属性, 就可以很方便获取</p> <p>这些路由相关的直接看官方的路由demo 下载下来本地看代码和运行，非常有用</p> <p>// router</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">&quot;/product/:product_key&quot;</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> Product<span class="token punctuation">,</span>
      props<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>// product 组件</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">// router中定义的 定义属性 `props: true` 这里就能用组件属性形式访问</span>

    props <span class="token punctuation">:</span> <span class="token punctuation">{</span>
      product_key<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span>String <span class="token punctuation">,</span>
        required<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// template 中直接使用</span>
    
     <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>product_key <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>product_key<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</code></pre></div><h1 id="引用图片"><a href="#引用图片" aria-hidden="true" class="header-anchor">#</a> 引用图片</h1> <p>引用图片的问题以前也遇到过</p> <p>特别是需要图片在打包后能正常显示, 一般图片地址有两种,</p> <p>第一种是打包后依然要从网络加载的, 这种图片我们尽量使用绝对完整url地址</p> <p>第二种是本地图片, 本地图片往往不能正常显示, 解决方法就是用import引用图片, 我们在组件中import引用图片, 打包后是一定可以正常显示的</p> <p>组件中使用图片, 如:</p> <ol><li><p>图片拷贝到目录 比如<code>src/assets/img/button_in_cart.gif</code></p></li> <li><p>使用import引入并定义图片变量</p></li></ol> <p><code>import cart_img from '@/assets/img/button_in_cart.gif'</code></p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        cart_img<span class="token punctuation">:</span>cart_img
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ol start="3"><li>使用该图片
<code>&lt;img :src=cart_img alt=&quot;add_to_cart&quot;&gt;</code></li></ol> <h2 id="css-图片问题"><a href="#css-图片问题" aria-hidden="true" class="header-anchor">#</a> css 图片问题</h2> <p>比如 <code>background: url(&quot;./ban_bg.png&quot;) no-repeat ;</code> 这种url 在打包后找不到图片</p> <p>css 图片是无法像上面通过<code>import</code> 来解决的,<br>
但vue-cli 已经提供了解决方法
<code>https://blog.csdn.net/u010881899/article/details/77480533</code> <code>https://github.com/vuejs/vue-loader/issues/481</code></p> <p><code>build/utils.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code>      <span class="token keyword">return</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        use<span class="token punctuation">:</span> loaders<span class="token punctuation">,</span>
        fallback<span class="token punctuation">:</span> <span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span>
        publicPath<span class="token punctuation">:</span><span class="token string">'../../'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>当打包完后css文件的路径往往是 <code>dist/static/css/app.83e22023107c4a0be5516955c2156614.css</code></p> <p>那么我们在css中引用的url , 需要从根开始找起 , 于是publicPath:'../../'  实际上指定的就是根目录</p> <p>也就是说, 在我们的css中的背景url的路径前, 会加上'../../'   于是就是从根路径开始找起 , 路径也就正确了</p> <h1 id="vue-lazyloader-的使用"><a href="#vue-lazyloader-的使用" aria-hidden="true" class="header-anchor">#</a> vue-lazyloader 的使用</h1> <p><code>https://github.com/hilongjw/vue-lazyload</code></p> <p>场景</p> <p>比如列表, 每个<code>item</code>都要显示<code>网络图片</code>, 这个列表很长,  那么还没有处在<code>显示区域</code>的图片是不需要加载的 , 我们需要这样的<code>图片懒加载</code></p> <ol><li><p>安装依赖
npm install vue-lazyload</p></li> <li><p>main.js中引入, 且设置默认加载图片</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> VueLazyload <span class="token keyword">from</span> <span class="token string">'vue-lazyload'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueLazyload<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  loading<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'common/image/default.png'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>在组件中直接使用指令</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;avatar&quot;</span> v<span class="token operator">-</span>lazy<span class="token operator">=</span><span class="token string">&quot;item.avatar&quot;</span><span class="token operator">&gt;</span>
</code></pre></div><h1 id="stylus-中引入文件"><a href="#stylus-中引入文件" aria-hidden="true" class="header-anchor">#</a> stylus 中引入文件</h1> <p>https://wiki.zthxxx.me/wiki/%E6%8A%80%E6%9C%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/Webpack-%E4%B8%AD-css-import-%E4%BD%BF%E7%94%A8-alias-%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84/</p> <div class="language-js extra-class"><pre class="language-js"><code>  @<span class="token keyword">import</span> <span class="token string">&quot;~common/stylus/variable&quot;</span>
</code></pre></div><p><code>~common</code> 表示这个地址需要webpack解析</p> <p><code>build/webpack.base.conf.js</code> 文件中配置</p> <div class="language-js extra-class"><pre class="language-js"><code>    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'vue$'</span><span class="token punctuation">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
      <span class="token string">'@'</span><span class="token punctuation">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'common'</span><span class="token punctuation">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/common'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'components'</span><span class="token punctuation">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/components'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'base'</span><span class="token punctuation">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/base'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'api'</span><span class="token punctuation">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/api'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><h1 id="在main-js-中引入通用样式"><a href="#在main-js-中引入通用样式" aria-hidden="true" class="header-anchor">#</a> 在main.js 中引入通用样式</h1> <p>比如, 全局的reset样式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'common/stylus/index.styl'</span>
</code></pre></div><p>// index.styl</p> <div class="language-css extra-class"><pre class="language-css"><code>@import <span class="token string">&quot;./reset.styl&quot;</span>
@import <span class="token string">&quot;./base.styl&quot;</span>
@import <span class="token string">&quot;./icon.styl&quot;</span>

</code></pre></div><h1 id="touchstart-和-touchmove-事件"><a href="#touchstart-和-touchmove-事件" aria-hidden="true" class="header-anchor">#</a> touchstart 和 touchmove 事件</h1> <p><code>webapp</code> 需要处理滑动事件 <code>touchmove</code> 事件</p> <p>一般会这样用 , 阻止冒泡, 且阻止浏览器本身的滑动</p> <div class="language-html extra-class"><pre class="language-html"><code>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>list-shortcut<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@touchstart.stop.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onShortcutTouchStart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@touchmove.stop.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onShortcutTouchMove<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">@touchend.stop</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>touchmove 事件的数据的获取  , 事件处理方法中, 事件变量e</p> <p>e.touches 数组中保存的就是touch 移动触摸数据</p> <div class="language-js extra-class"><pre class="language-js"><code>        <span class="token keyword">this</span><span class="token punctuation">.</span>touch<span class="token punctuation">.</span>y2 <span class="token operator">=</span> firstTouch<span class="token punctuation">.</span>pageY
        <span class="token keyword">let</span> delta <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>touch<span class="token punctuation">.</span>y2 <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>touch<span class="token punctuation">.</span>y1<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token constant">ANCHOR_HEIGHT</span> <span class="token operator">|</span> <span class="token number">0</span>
        <span class="token keyword">let</span> anchorIndex <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>touch<span class="token punctuation">.</span>anchorIndex<span class="token punctuation">)</span> <span class="token operator">+</span> delta
</code></pre></div><p>还有点击事件 <code>touchstart</code></p> <p>具体的touchstart和click 有什么区别:</p> <p><code>https://juejin.im/post/5a996388f265da23884c8113</code></p> <h1 id="不需要双向数据绑定的数据不用定义在data里面"><a href="#不需要双向数据绑定的数据不用定义在data里面" aria-hidden="true" class="header-anchor">#</a> 不需要双向数据绑定的数据不用定义在data里面</h1> <p>定义在data中的数据, 双向数据绑定是会添加getter , settter 的</p> <p>如果不需要双向绑定的数据,  那么我们可以在created生命周期方法中定义</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>probeType <span class="token operator">=</span> <span class="token number">3</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>listenScroll <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>touch <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>listHeight <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>    

</code></pre></div><h1 id="t-is-not-a-function-vux-内置方法无法使用"><a href="#t-is-not-a-function-vux-内置方法无法使用" aria-hidden="true" class="header-anchor">#</a> <code>$t is not a function</code>  vux 内置方法无法使用</h1> <p><code>https://github.com/airyland/vux/issues/752</code></p> <p>npm --registry=https://registry.npm.taobao.org --save install vux-loader</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.f8bee57c.js" defer></script><script src="/assets/js/48.4da217ee.js" defer></script>
  </body>
</html>
