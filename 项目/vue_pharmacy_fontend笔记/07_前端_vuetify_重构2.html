<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>07前端vuetify_重构2 | 工作笔记</title>
    <meta name="description" content="Hendry的博客">
    <link rel="icon" href="/img/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.eecf6a6a.css" as="style"><link rel="preload" href="/assets/js/app.f8bee57c.js" as="script"><link rel="preload" href="/assets/js/63.f99fda12.js" as="script"><link rel="prefetch" href="/assets/js/10.837bbfd0.js"><link rel="prefetch" href="/assets/js/11.bbd08110.js"><link rel="prefetch" href="/assets/js/12.eb514b46.js"><link rel="prefetch" href="/assets/js/13.e2503408.js"><link rel="prefetch" href="/assets/js/14.d97c0ac2.js"><link rel="prefetch" href="/assets/js/15.baf7986f.js"><link rel="prefetch" href="/assets/js/16.2b12bf6f.js"><link rel="prefetch" href="/assets/js/17.f7e545ac.js"><link rel="prefetch" href="/assets/js/18.70d9230d.js"><link rel="prefetch" href="/assets/js/19.0a61e7ba.js"><link rel="prefetch" href="/assets/js/2.d139c70a.js"><link rel="prefetch" href="/assets/js/20.87141f48.js"><link rel="prefetch" href="/assets/js/21.536e6d3b.js"><link rel="prefetch" href="/assets/js/22.fa3e648a.js"><link rel="prefetch" href="/assets/js/23.f6c367b9.js"><link rel="prefetch" href="/assets/js/24.a8f770f5.js"><link rel="prefetch" href="/assets/js/25.3bb8bbfc.js"><link rel="prefetch" href="/assets/js/26.1c16cfb8.js"><link rel="prefetch" href="/assets/js/27.075df559.js"><link rel="prefetch" href="/assets/js/28.90c1e366.js"><link rel="prefetch" href="/assets/js/29.3145e78e.js"><link rel="prefetch" href="/assets/js/3.de89ea98.js"><link rel="prefetch" href="/assets/js/30.9832e5bd.js"><link rel="prefetch" href="/assets/js/31.2f9a7c5b.js"><link rel="prefetch" href="/assets/js/32.df9181b5.js"><link rel="prefetch" href="/assets/js/33.ec53f96d.js"><link rel="prefetch" href="/assets/js/34.398a7128.js"><link rel="prefetch" href="/assets/js/35.bb1c5a48.js"><link rel="prefetch" href="/assets/js/36.935a5449.js"><link rel="prefetch" href="/assets/js/37.459fef35.js"><link rel="prefetch" href="/assets/js/38.f51023c1.js"><link rel="prefetch" href="/assets/js/39.ed9f7023.js"><link rel="prefetch" href="/assets/js/4.a889cc83.js"><link rel="prefetch" href="/assets/js/40.7959ecc5.js"><link rel="prefetch" href="/assets/js/41.2f350c5b.js"><link rel="prefetch" href="/assets/js/42.3a09f5a5.js"><link rel="prefetch" href="/assets/js/43.b22e3395.js"><link rel="prefetch" href="/assets/js/44.ea91f873.js"><link rel="prefetch" href="/assets/js/45.29363c9f.js"><link rel="prefetch" href="/assets/js/46.45848afe.js"><link rel="prefetch" href="/assets/js/47.309f8db5.js"><link rel="prefetch" href="/assets/js/48.4da217ee.js"><link rel="prefetch" href="/assets/js/49.713e67fd.js"><link rel="prefetch" href="/assets/js/5.7183a5fb.js"><link rel="prefetch" href="/assets/js/50.d90574c6.js"><link rel="prefetch" href="/assets/js/51.5190cc6c.js"><link rel="prefetch" href="/assets/js/52.25c37497.js"><link rel="prefetch" href="/assets/js/53.3fea90a3.js"><link rel="prefetch" href="/assets/js/54.d23ad054.js"><link rel="prefetch" href="/assets/js/55.d8ba3a31.js"><link rel="prefetch" href="/assets/js/56.bc578093.js"><link rel="prefetch" href="/assets/js/57.cb8c611e.js"><link rel="prefetch" href="/assets/js/58.4a6efece.js"><link rel="prefetch" href="/assets/js/59.397f12f2.js"><link rel="prefetch" href="/assets/js/6.6621a9ba.js"><link rel="prefetch" href="/assets/js/60.a209bb60.js"><link rel="prefetch" href="/assets/js/61.0a1b1f3b.js"><link rel="prefetch" href="/assets/js/62.a79409e9.js"><link rel="prefetch" href="/assets/js/64.59a96a9c.js"><link rel="prefetch" href="/assets/js/65.ab4be186.js"><link rel="prefetch" href="/assets/js/66.df4455cd.js"><link rel="prefetch" href="/assets/js/7.a024304b.js"><link rel="prefetch" href="/assets/js/8.be16c405.js"><link rel="prefetch" href="/assets/js/9.37e77487.js">
    <link rel="stylesheet" href="/assets/css/0.styles.eecf6a6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">工作笔记</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/menu.html" class="nav-link">首页</a></div><div class="nav-item"><a href="/Android/" class="nav-link">Android</a></div><div class="nav-item"><a href="/直播/" class="nav-link">直播</a></div><div class="nav-item"><a href="/前端/" class="nav-link">前端</a></div><div class="nav-item"><a href="/公众号/" class="nav-link">公众号</a></div><div class="nav-item"><a href="/项目/" class="nav-link">项目</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">高级</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">冒泡</a></li><li class="dropdown-subitem"><a href="/language/japanese.html" class="nav-link">快速</a></li></ul></li><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">工厂</a></li><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">单例</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/menu.html" class="nav-link">首页</a></div><div class="nav-item"><a href="/Android/" class="nav-link">Android</a></div><div class="nav-item"><a href="/直播/" class="nav-link">直播</a></div><div class="nav-item"><a href="/前端/" class="nav-link">前端</a></div><div class="nav-item"><a href="/公众号/" class="nav-link">公众号</a></div><div class="nav-item"><a href="/项目/" class="nav-link">项目</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">高级</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">冒泡</a></li><li class="dropdown-subitem"><a href="/language/japanese.html" class="nav-link">快速</a></li></ul></li><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">工厂</a></li><li class="dropdown-subitem"><a href="/language/chinese.html" class="nav-link">单例</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>07前端vuetify_重构2</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#说明" class="sidebar-link">说明</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#根据页面结构设计路由" class="sidebar-link">根据页面结构设计路由</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#vue-嵌套路由" class="sidebar-link">vue 嵌套路由</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#loading-和-alert" class="sidebar-link">loading 和 alert</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#错误提示" class="sidebar-link">错误提示</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#进度条" class="sidebar-link">进度条</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#路由和跳转" class="sidebar-link">路由和跳转</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#btn-实现-字母-index-检索条" class="sidebar-link">btn 实现 字母 index 检索条</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#内容平均空白间隙" class="sidebar-link">内容平均空白间隙</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#card-底部对齐" class="sidebar-link">card 底部对齐</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#v-chip" class="sidebar-link">v-chip</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#垂直居中" class="sidebar-link">垂直居中</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#水平居中" class="sidebar-link">水平居中</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#设置margin" class="sidebar-link">设置margin</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%A1%B9%E7%9B%AE/vue_pharmacy_fontend%E7%AC%94%E8%AE%B0/07_%E5%89%8D%E7%AB%AF_vuetify_%E9%87%8D%E6%9E%842.html#颜色" class="sidebar-link">颜色</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="_07-前端-vuetify-重构2"><a href="#_07-前端-vuetify-重构2" aria-hidden="true" class="header-anchor">#</a> 07_前端_vuetify_重构2</h1> <h2 id="说明"><a href="#说明" aria-hidden="true" class="header-anchor">#</a> 说明</h2> <ul><li>显示分类下产品列表</li> <li>页面底部的完善</li> <li>新建页面header</li> <li>修复路由, 主页跳转</li> <li>添加BEST SELLERS 数据 , 但没有加入到分类菜单</li></ul> <h2 id="根据页面结构设计路由"><a href="#根据页面结构设计路由" aria-hidden="true" class="header-anchor">#</a> 根据页面结构设计路由</h2> <ol><li><p>首页应该是显示分类菜单 , 当点击某个<code>分类</code>的 , 页面的右边主体应该显示<code>产品列表card</code></p></li> <li><p>当点击菜单中的<code>产品</code> , 或者是<code>产品card</code> , 页面的右边主体显示<code>产品详情</code></p></li> <li><p>当点击导航中的其他链接, 应该让整个页面刷新</p></li></ol> <h2 id="vue-嵌套路由"><a href="#vue-嵌套路由" aria-hidden="true" class="header-anchor">#</a> vue 嵌套路由</h2> <p><code>https://router.vuejs.org/zh-cn/essentials/nested-routes.html</code></p> <p>我们应该先设计url</p> <p><code>/cats/:catid</code></p> <p><code>/product/:productid</code></p> <p>当访问这两种URL的时候,  页面结构都是左边是菜单, 只有右边产生变化</p> <p>但<code>/cats/:catid</code> 这样的url 不美观,  既然首页就是显示分类产品, 那么我们就把cats 作为首页</p> <p><code>/home/:catid</code>   == <code>/cats/:catid</code>   , 也就是说 <code>home path</code> 就是分类 <code>cats</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/home/:cat_id'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> Home<span class="token punctuation">,</span>
      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 当 /user/:id 匹配成功，</span>
        <span class="token comment">// UserHome 会被渲染在 User 的 &lt;router-view&gt; 中</span>
        <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> CatProductsCards <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// ...其他子路由</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/product/:product_id'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> Product<span class="token punctuation">,</span>
      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 当 /user/:id 匹配成功，</span>
        <span class="token comment">// UserHome 会被渲染在 User 的 &lt;router-view&gt; 中</span>
        <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> ProductInfo <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// ...其他子路由</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>而HOME 和 Product  , 他们的结构是一致的 , 因此, 我们把这两个路由的组件用一个即可比如 HOME_CATS_PRODUCTS</p> <p>然后我们在<code>Home</code> 组件的template 中使用 <code>&lt;router-view&gt;</code>  ,   所有 <code>/home/:cat_id</code> 对应的<code>CatProductsCards</code> 都会显示在 <code>router-view</code>中</p> <h2 id="loading-和-alert"><a href="#loading-和-alert" aria-hidden="true" class="header-anchor">#</a> loading 和 alert</h2> <p><code>https://www.youtube.com/watch?v=fuhhQFt5Ybk&amp;list=PL55RiY5tL51qxUbODJG9cgrsVd7ZHbPrt&amp;index=16</code></p> <p>原本的设想 <code>loading</code> 应该是全局的状态, 比如, 在各个组件加载数据的时候, 都应该能访问到<code>loading</code> , 但发现那样并不合理.</p> <p>比如一个页面中好几个地方组件在加载 , 那应该是每个组件都有一个<code>loading</code>才对.</p> <p>所以, 暂时还是给每个<code>store</code> 下的<code>module</code> 都加入<code>loading</code> 和 <code>error</code>   如果出现错误 我们也要给予提示 , 先修改store下的loading相关数据处理</p> <ol><li><p>加入loading状态state</p></li> <li><p>在mutations中定义修改loading状态的方法</p></li> <li><p>在action中访问接口的时候, 根据结果调用mutations中的方法, 对状态进行修改.</p></li></ol> <p>// <code>\store\cat_products\index.js</code>  为例</p> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// state :</span>
    loading<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

<span class="token comment">// mutations:</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>loading <span class="token operator">=</span> payload<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setError</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>error <span class="token operator">=</span> payload<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">clearError</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      staate<span class="token punctuation">.</span>error <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token comment">// actions:</span>
    <span class="token function">get_catProducts_action</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span> param <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_LOADING'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'CLEAR_ERROR'</span><span class="token punctuation">)</span>
      <span class="token function">api_getCatProducts</span><span class="token punctuation">(</span><span class="token constant">CAT_PRODUCTS_API_URL</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">SET_CAT_PRODUCTS</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_LOADING'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'CLEAR_ERROR'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_LOADING'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SET_ERROR'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre></div><h2 id="错误提示"><a href="#错误提示" aria-hidden="true" class="header-anchor">#</a> 错误提示</h2> <ol><li><p>设置好数据后, 就可以在组件模板中加入loading 和 error 框了 (vuetify中的 alert框)</p> <p>将alert 作为全局组件 ,   在main.js中加载该自定义的alert 组件</p></li> <li><p>main.js中全局注册该组件, 让所有的组件都可以使用error 框</p> <p>Vue.component()</p></li> <li><p>事件</p> <p><code>v-alert</code> 我们不是直接使用, 而是封装成其他组件, 比如名为 <code>alert-cmp</code> ,  <code>v-alert</code> 它本身的事件<code>onClose</code> 在我们封装的组件里是访问不到的
虽然点击的是v-alert的关闭按钮, 但我们使用的时候是 alert-cmp 组件,  是没有onClose事件的,
因此 , 需要在alert-cmp组件定义中进行自定义事件,  当<code>alert-cmp</code>中的<code>v-alert</code>收到<code>onClose</code>事件的时候,   <code>emit</code> 事件 , 比如名为 <code>dismissed</code></p> <p>然后, 我们在使用<code>alert-cmp</code> 的时候就可以捕获<code>@dismissed=&quot;onDismissed&quot;</code></p></li> <li><p>错误框的显示和清除,  我们要用组件的state中的error来控制是否显示错误框</p> <ul><li>原本的<code>v-aler</code>t 就有是否显示的属性, 我们把<code>value</code>设置为<code>true</code> , 让它一直显示</li> <li>设置我们封装后的组件 <code>alert-cmp</code> 的父级<code>layourt</code> , <code>v-if</code> 来控制是否显示
<code>&lt;v-layout row wrap v-if=&quot;cat_products.error&quot;&gt;</code></li> <li>绑定后, 当数据加载出现错误的时候 , 错误框自然显示 ;  当点击关闭的时候, onDismissed 来对store中的状态进行设置 <code>this.clearError();</code></li></ul></li> <li><p>错误框可以加上错误信息参数</p></li></ol> <h2 id="进度条"><a href="#进度条" aria-hidden="true" class="header-anchor">#</a> 进度条</h2> <p>vuttify中的 progress</p> <p>产品栏的progress 用line形式比较合适, 正好可以和divider重叠</p> <h2 id="路由和跳转"><a href="#路由和跳转" aria-hidden="true" class="header-anchor">#</a> 路由和跳转</h2> <p>设置 /home 的路由 ,  home 组件中已经有router-view  ,  我们希望在访问/home 的时候 , 该router-view中也应该有内容显示
因此设置<code>children</code> 的根路由 <code>/</code>  ,   当访问 <code>/home/</code> 或 <code>/home</code>的时候都会匹配该路由 , 它的组件是<code>CatProductsCards</code> 该组件会显示在<code>router-view</code>中
另外.  我们设置 <code>CatProductsCards</code> 自动加载数据, 也就是默认分类</p> <p>于是, 当访问/home 页面就能显示默认分类的产品内容</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">&quot;/home&quot;</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span>Home<span class="token punctuation">,</span>
      children <span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          path<span class="token punctuation">:</span><span class="token string">'/'</span><span class="token punctuation">,</span>
          component<span class="token punctuation">:</span> CatProductsCards<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>上面已经有了 /home 页面  , 当访问站点根页面 <code>/</code> 的时候, 我们需要跳转到<code>/home</code>, 这里用个小技巧, 就是<code>this.$router.push</code> 方法</p> <p>我们在任何组件的<code>组件created或mounted生命周期</code>里面 调用push 就能实现跳转, 因此我们新建<code>Redirect</code> 组件, 在其<code>created</code> 方法中进行跳转, 然后设置路由即可实现任意跳转</p> <p>// <code>router/index.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> Redirect
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="btn-实现-字母-index-检索条"><a href="#btn-实现-字母-index-检索条" aria-hidden="true" class="header-anchor">#</a> btn 实现 字母 index 检索条</h2> <p><code>btn flat</code> -- 那么就不显示边框, 只有字母 , 但当鼠标放到字母上去会显示灰色背景
<code>btn flat icon</code>    -- 显示圆形背景</p> <div class="language-html extra-class"><pre class="language-html"><code>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-layout</span> <span class="token attr-name">justify-space-around</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-btn</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">margin</span><span class="token punctuation">:</span> 0 0 <span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">flat</span> <span class="token attr-name">icon</span> <span class="token attr-name">small</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>red lighten-2<span class="token punctuation">&quot;</span></span>
                     <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>letter,index in letters<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{letter}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-btn</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-layout</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="内容平均空白间隙"><a href="#内容平均空白间隙" aria-hidden="true" class="header-anchor">#</a> 内容平均空白间隙</h2> <p><code>&lt;v-layout justify-space-around&gt;</code></p> <h2 id="card-底部对齐"><a href="#card-底部对齐" aria-hidden="true" class="header-anchor">#</a> card 底部对齐</h2> <p><code>align-end</code> 如 <code>&lt;v-flex xs12 align-end flexbox&gt;</code></p> <p>但使用<code>v-flex</code> 的<code>align-end</code>  底部对齐的话, 有时候顶部又没有对齐</p> <p>应该使用<code>d-flex</code> 可以让他们顶部, 顶部对齐</p> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-container</span> <span class="token attr-name">fluid</span> <span class="token attr-name">grid-list-lg</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-layout</span> <span class="token attr-name">row</span> <span class="token attr-name">wrap</span><span class="token punctuation">&gt;</span></span>
   &lt;v-flex d-flex
</code></pre></div><p>v-container 指定其子元素的间隔, 使用Grid list属性  , 不同的屏幕, 组件之间的间隔不同</p> <p>所以需要用container</p> <p><code>grid-list-sm</code>   , <code>grid-list-lg</code></p> <h2 id="v-chip"><a href="#v-chip" aria-hidden="true" class="header-anchor">#</a> v-chip</h2> <div class="language-html extra-class"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text-xs-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-chip</span> <span class="token attr-name">outline</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>$ {{(product.product_brief.lowest_price).toFixed(2)}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>for pill<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-chip</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="垂直居中"><a href="#垂直居中" aria-hidden="true" class="header-anchor">#</a> 垂直居中</h2> <p>v-flex justify-center</p> <h2 id="水平居中"><a href="#水平居中" aria-hidden="true" class="header-anchor">#</a> 水平居中</h2> <p>v-flex text-xs-center</p> <h2 id="设置margin"><a href="#设置margin" aria-hidden="true" class="header-anchor">#</a> 设置margin</h2> <p>class=&quot;mx-2&quot;</p> <h2 id="颜色"><a href="#颜色" aria-hidden="true" class="header-anchor">#</a> 颜色</h2> <pre><code>purple darken-4
color: #4A148C;

purple accent-4
color: #AA00FF;
</code></pre></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.f8bee57c.js" defer></script><script src="/assets/js/63.f99fda12.js" defer></script>
  </body>
</html>
