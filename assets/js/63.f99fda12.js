(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{229:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"_07-前端-vuetify-重构2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_07-前端-vuetify-重构2","aria-hidden":"true"}},[t._v("#")]),t._v(" 07_前端_vuetify_重构2")]),t._v(" "),s("h2",{attrs:{id:"说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),s("ul",[s("li",[t._v("显示分类下产品列表")]),t._v(" "),s("li",[t._v("页面底部的完善")]),t._v(" "),s("li",[t._v("新建页面header")]),t._v(" "),s("li",[t._v("修复路由, 主页跳转")]),t._v(" "),s("li",[t._v("添加BEST SELLERS 数据 , 但没有加入到分类菜单")])]),t._v(" "),s("h2",{attrs:{id:"根据页面结构设计路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#根据页面结构设计路由","aria-hidden":"true"}},[t._v("#")]),t._v(" 根据页面结构设计路由")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("首页应该是显示分类菜单 , 当点击某个"),s("code",[t._v("分类")]),t._v("的 , 页面的右边主体应该显示"),s("code",[t._v("产品列表card")])])]),t._v(" "),s("li",[s("p",[t._v("当点击菜单中的"),s("code",[t._v("产品")]),t._v(" , 或者是"),s("code",[t._v("产品card")]),t._v(" , 页面的右边主体显示"),s("code",[t._v("产品详情")])])]),t._v(" "),s("li",[s("p",[t._v("当点击导航中的其他链接, 应该让整个页面刷新")])])]),t._v(" "),s("h2",{attrs:{id:"vue-嵌套路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-嵌套路由","aria-hidden":"true"}},[t._v("#")]),t._v(" vue 嵌套路由")]),t._v(" "),s("p",[s("code",[t._v("https://router.vuejs.org/zh-cn/essentials/nested-routes.html")])]),t._v(" "),s("p",[t._v("我们应该先设计url")]),t._v(" "),s("p",[s("code",[t._v("/cats/:catid")])]),t._v(" "),s("p",[s("code",[t._v("/product/:productid")])]),t._v(" "),s("p",[t._v("当访问这两种URL的时候,  页面结构都是左边是菜单, 只有右边产生变化")]),t._v(" "),s("p",[t._v("但"),s("code",[t._v("/cats/:catid")]),t._v(" 这样的url 不美观,  既然首页就是显示分类产品, 那么我们就把cats 作为首页")]),t._v(" "),s("p",[s("code",[t._v("/home/:catid")]),t._v("   == "),s("code",[t._v("/cats/:catid")]),t._v("   , 也就是说 "),s("code",[t._v("home path")]),t._v(" 就是分类 "),s("code",[t._v("cats")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  routes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home/:cat_id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      children"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当 /user/:id 匹配成功，")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// UserHome 会被渲染在 User 的 <router-view> 中")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CatProductsCards "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...其他子路由")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/product/:product_id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Product"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      children"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当 /user/:id 匹配成功，")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// UserHome 会被渲染在 User 的 <router-view> 中")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ProductInfo "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...其他子路由")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("而HOME 和 Product  , 他们的结构是一致的 , 因此, 我们把这两个路由的组件用一个即可比如 HOME_CATS_PRODUCTS")]),t._v(" "),s("p",[t._v("然后我们在"),s("code",[t._v("Home")]),t._v(" 组件的template 中使用 "),s("code",[t._v("<router-view>")]),t._v("  ,   所有 "),s("code",[t._v("/home/:cat_id")]),t._v(" 对应的"),s("code",[t._v("CatProductsCards")]),t._v(" 都会显示在 "),s("code",[t._v("router-view")]),t._v("中")]),t._v(" "),s("h2",{attrs:{id:"loading-和-alert"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loading-和-alert","aria-hidden":"true"}},[t._v("#")]),t._v(" loading 和 alert")]),t._v(" "),s("p",[s("code",[t._v("https://www.youtube.com/watch?v=fuhhQFt5Ybk&list=PL55RiY5tL51qxUbODJG9cgrsVd7ZHbPrt&index=16")])]),t._v(" "),s("p",[t._v("原本的设想 "),s("code",[t._v("loading")]),t._v(" 应该是全局的状态, 比如, 在各个组件加载数据的时候, 都应该能访问到"),s("code",[t._v("loading")]),t._v(" , 但发现那样并不合理.")]),t._v(" "),s("p",[t._v("比如一个页面中好几个地方组件在加载 , 那应该是每个组件都有一个"),s("code",[t._v("loading")]),t._v("才对.")]),t._v(" "),s("p",[t._v("所以, 暂时还是给每个"),s("code",[t._v("store")]),t._v(" 下的"),s("code",[t._v("module")]),t._v(" 都加入"),s("code",[t._v("loading")]),t._v(" 和 "),s("code",[t._v("error")]),t._v("   如果出现错误 我们也要给予提示 , 先修改store下的loading相关数据处理")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("加入loading状态state")])]),t._v(" "),s("li",[s("p",[t._v("在mutations中定义修改loading状态的方法")])]),t._v(" "),s("li",[s("p",[t._v("在action中访问接口的时候, 根据结果调用mutations中的方法, 对状态进行修改.")])])]),t._v(" "),s("p",[t._v("// "),s("code",[t._v("\\store\\cat_products\\index.js")]),t._v("  为例")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// state :")]),t._v("\n    loading"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mutations:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLoading")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("payload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loading "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" payload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setError")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" payload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearError")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      staate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// actions:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_catProducts_action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" param "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET_LOADING'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CLEAR_ERROR'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("api_getCatProducts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CAT_PRODUCTS_API_URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" param"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SET_CAT_PRODUCTS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET_LOADING'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CLEAR_ERROR'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET_LOADING'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET_ERROR'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"错误提示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误提示","aria-hidden":"true"}},[t._v("#")]),t._v(" 错误提示")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("设置好数据后, 就可以在组件模板中加入loading 和 error 框了 (vuetify中的 alert框)")]),t._v(" "),s("p",[t._v("将alert 作为全局组件 ,   在main.js中加载该自定义的alert 组件")])]),t._v(" "),s("li",[s("p",[t._v("main.js中全局注册该组件, 让所有的组件都可以使用error 框")]),t._v(" "),s("p",[t._v("Vue.component()")])]),t._v(" "),s("li",[s("p",[t._v("事件")]),t._v(" "),s("p",[s("code",[t._v("v-alert")]),t._v(" 我们不是直接使用, 而是封装成其他组件, 比如名为 "),s("code",[t._v("alert-cmp")]),t._v(" ,  "),s("code",[t._v("v-alert")]),t._v(" 它本身的事件"),s("code",[t._v("onClose")]),t._v(" 在我们封装的组件里是访问不到的\n虽然点击的是v-alert的关闭按钮, 但我们使用的时候是 alert-cmp 组件,  是没有onClose事件的,\n因此 , 需要在alert-cmp组件定义中进行自定义事件,  当"),s("code",[t._v("alert-cmp")]),t._v("中的"),s("code",[t._v("v-alert")]),t._v("收到"),s("code",[t._v("onClose")]),t._v("事件的时候,   "),s("code",[t._v("emit")]),t._v(" 事件 , 比如名为 "),s("code",[t._v("dismissed")])]),t._v(" "),s("p",[t._v("然后, 我们在使用"),s("code",[t._v("alert-cmp")]),t._v(" 的时候就可以捕获"),s("code",[t._v('@dismissed="onDismissed"')])])]),t._v(" "),s("li",[s("p",[t._v("错误框的显示和清除,  我们要用组件的state中的error来控制是否显示错误框")]),t._v(" "),s("ul",[s("li",[t._v("原本的"),s("code",[t._v("v-aler")]),t._v("t 就有是否显示的属性, 我们把"),s("code",[t._v("value")]),t._v("设置为"),s("code",[t._v("true")]),t._v(" , 让它一直显示")]),t._v(" "),s("li",[t._v("设置我们封装后的组件 "),s("code",[t._v("alert-cmp")]),t._v(" 的父级"),s("code",[t._v("layourt")]),t._v(" , "),s("code",[t._v("v-if")]),t._v(" 来控制是否显示\n"),s("code",[t._v('<v-layout row wrap v-if="cat_products.error">')])]),t._v(" "),s("li",[t._v("绑定后, 当数据加载出现错误的时候 , 错误框自然显示 ;  当点击关闭的时候, onDismissed 来对store中的状态进行设置 "),s("code",[t._v("this.clearError();")])])])]),t._v(" "),s("li",[s("p",[t._v("错误框可以加上错误信息参数")])])]),t._v(" "),s("h2",{attrs:{id:"进度条"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进度条","aria-hidden":"true"}},[t._v("#")]),t._v(" 进度条")]),t._v(" "),s("p",[t._v("vuttify中的 progress")]),t._v(" "),s("p",[t._v("产品栏的progress 用line形式比较合适, 正好可以和divider重叠")]),t._v(" "),s("h2",{attrs:{id:"路由和跳转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由和跳转","aria-hidden":"true"}},[t._v("#")]),t._v(" 路由和跳转")]),t._v(" "),s("p",[t._v("设置 /home 的路由 ,  home 组件中已经有router-view  ,  我们希望在访问/home 的时候 , 该router-view中也应该有内容显示\n因此设置"),s("code",[t._v("children")]),t._v(" 的根路由 "),s("code",[t._v("/")]),t._v("  ,   当访问 "),s("code",[t._v("/home/")]),t._v(" 或 "),s("code",[t._v("/home")]),t._v("的时候都会匹配该路由 , 它的组件是"),s("code",[t._v("CatProductsCards")]),t._v(" 该组件会显示在"),s("code",[t._v("router-view")]),t._v("中\n另外.  我们设置 "),s("code",[t._v("CatProductsCards")]),t._v(" 自动加载数据, 也就是默认分类")]),t._v(" "),s("p",[t._v("于是, 当访问/home 页面就能显示默认分类的产品内容")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      children "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CatProductsCards"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("p",[t._v("上面已经有了 /home 页面  , 当访问站点根页面 "),s("code",[t._v("/")]),t._v(" 的时候, 我们需要跳转到"),s("code",[t._v("/home")]),t._v(", 这里用个小技巧, 就是"),s("code",[t._v("this.$router.push")]),t._v(" 方法")]),t._v(" "),s("p",[t._v("我们在任何组件的"),s("code",[t._v("组件created或mounted生命周期")]),t._v("里面 调用push 就能实现跳转, 因此我们新建"),s("code",[t._v("Redirect")]),t._v(" 组件, 在其"),s("code",[t._v("created")]),t._v(" 方法中进行跳转, 然后设置路由即可实现任意跳转")]),t._v(" "),s("p",[t._v("// "),s("code",[t._v("router/index.js")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Redirect\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h2",{attrs:{id:"btn-实现-字母-index-检索条"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#btn-实现-字母-index-检索条","aria-hidden":"true"}},[t._v("#")]),t._v(" btn 实现 字母 index 检索条")]),t._v(" "),s("p",[s("code",[t._v("btn flat")]),t._v(" -- 那么就不显示边框, 只有字母 , 但当鼠标放到字母上去会显示灰色背景\n"),s("code",[t._v("btn flat icon")]),t._v("    -- 显示圆形背景")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("v-layout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("justify-space-around")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("v-btn")]),s("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 0 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("flat")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("icon")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("small")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("red lighten-2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n                     "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("letter,index in letters"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{letter}}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("v-btn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("v-layout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"内容平均空白间隙"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内容平均空白间隙","aria-hidden":"true"}},[t._v("#")]),t._v(" 内容平均空白间隙")]),t._v(" "),s("p",[s("code",[t._v("<v-layout justify-space-around>")])]),t._v(" "),s("h2",{attrs:{id:"card-底部对齐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#card-底部对齐","aria-hidden":"true"}},[t._v("#")]),t._v(" card 底部对齐")]),t._v(" "),s("p",[s("code",[t._v("align-end")]),t._v(" 如 "),s("code",[t._v("<v-flex xs12 align-end flexbox>")])]),t._v(" "),s("p",[t._v("但使用"),s("code",[t._v("v-flex")]),t._v(" 的"),s("code",[t._v("align-end")]),t._v("  底部对齐的话, 有时候顶部又没有对齐")]),t._v(" "),s("p",[t._v("应该使用"),s("code",[t._v("d-flex")]),t._v(" 可以让他们顶部, 顶部对齐")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("v-container")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fluid")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("grid-list-lg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("v-layout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("row")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("wrap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   <v-flex d-flex\n")])])]),s("p",[t._v("v-container 指定其子元素的间隔, 使用Grid list属性  , 不同的屏幕, 组件之间的间隔不同")]),t._v(" "),s("p",[t._v("所以需要用container")]),t._v(" "),s("p",[s("code",[t._v("grid-list-sm")]),t._v("   , "),s("code",[t._v("grid-list-lg")])]),t._v(" "),s("h2",{attrs:{id:"v-chip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-chip","aria-hidden":"true"}},[t._v("#")]),t._v(" v-chip")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text-xs-center"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("v-chip")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("outline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("$ {{(product.product_brief.lowest_price).toFixed(2)}}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("for pill"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("v-chip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"垂直居中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#垂直居中","aria-hidden":"true"}},[t._v("#")]),t._v(" 垂直居中")]),t._v(" "),s("p",[t._v("v-flex justify-center")]),t._v(" "),s("h2",{attrs:{id:"水平居中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#水平居中","aria-hidden":"true"}},[t._v("#")]),t._v(" 水平居中")]),t._v(" "),s("p",[t._v("v-flex text-xs-center")]),t._v(" "),s("h2",{attrs:{id:"设置margin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置margin","aria-hidden":"true"}},[t._v("#")]),t._v(" 设置margin")]),t._v(" "),s("p",[t._v('class="mx-2"')]),t._v(" "),s("h2",{attrs:{id:"颜色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#颜色","aria-hidden":"true"}},[t._v("#")]),t._v(" 颜色")]),t._v(" "),s("pre",[s("code",[t._v("purple darken-4\ncolor: #4A148C;\n\npurple accent-4\ncolor: #AA00FF;\n")])])])}],!1,null,null,null);a.default=e.exports}}]);